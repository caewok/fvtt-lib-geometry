<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: PixelVector.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: PixelVector.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { GeomVector } from "./Vector.js";
import { GeomPixelPoint } from "./PixelPoint.js";
import { GEOM_CONSTANTS } from "./constants.js";


/**
 * Vector defines a direction and magnitude (size, or length) in 3D space.
 * (Basically, an arrow pointing in a specific direction.)
 * Represented by three numbers, referenced here as x, y, and z.
 * For GeomPixelVector, the coordinates are integer pixel locations.
 * Two vectors with the same magnitude and direction are the same vector. 
 * Here, angle signifies direction, in radians.
 * Extended from Array so it can be used with math.js functions.
 * @param {number[]}  p  x, y, z magnitudes
 */
export class GeomPixelVector extends GeomVector {
  /**
   * Vector where the magnitudes are integers.
   */
   constructor(...items) {   
     super(...items);
     
     this[0] = Math.round(this[0]);
     this[1] = Math.round(this[1]);
     this[2] = Math.round(this[2]);
    
     this.location_key = this.x | (this.y &lt;&lt; 16);
   }
   
   
   // -------------- METHODS ----------- // 
 
 /**
  * Is another vector the same as this one?
  * Test for equivalence using location_key
  * @override
  */ 
  equivalent(v) {
    if(v instanceof GeomPixelVector) {
      return this.location_key === v.location_key &amp;&amp; this.z === v.z;
    }
    return GeomVector.prototype.equivalent.call(this, v);
  }
  
 /**
  * 2D equivalence
  * @override
  */
  equivalent2D(v, { plane = GEOM.XY } = {}) {
    if(plane === GEOM.XY &amp;&amp; v instanceof GeomPixelVector) {
      return this.location_key === v.location_key;
    }
    return GeomVector.prototype.equivalent2D.call(this, v, { plane });
  }
  
 /**
  * Test for orientation against another vector
  * @override
  */
  orientation(v, { use_robust = true } = {}) {
    if(v instanceof GeomPixelVector) { use_robust = false; }
    return GeomVector.prototype.orientation.call(this, v, { use_robust });
  }    
  
 /**
  * Orientation on 2D plane with respect to another vector.
  * (Assumes both vectors use the same origin point)
  * @override
  */
  orientation2D(v, {plane = GEOM.XY, use_robust = true} = {}) {
    if(v instanceof GeomPixelVector) use_robust = false;
    return GeomVector.prototype.orientation2D.call(this, v, { plane, use_robust });
  }
  
 /**
  * CCW respect to another vector.
  * @override
  */
  ccw(v, { use_robust = true } = {}) {
    if(v instanceof GeomPixelVector) use_robust = false;
    return GeomVector.prototype.ccw.call(this, v, { use_robust }); 
  } 

 /**
  * CCW on 2D plane with respect to another vector
  * @override
  */
  ccw2D(v, plane, {use_robust = true} = {}) {
    if(v instanceof GeomPixelVector) use_robust = false;
    return GeomVector.prototype.ccw2D.call(this, v, plane, 
                                           {use_robust: use_robust});
  }

}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GeomLine.html">GeomLine</a></li><li><a href="GeomPixelLine.html">GeomPixelLine</a></li><li><a href="GeomPixelPoint.html">GeomPixelPoint</a></li><li><a href="GeomPixelRay.html">GeomPixelRay</a></li><li><a href="GeomPixelSegment.html">GeomPixelSegment</a></li><li><a href="GeomPixelVector.html">GeomPixelVector</a></li><li><a href="GeomPoint.html">GeomPoint</a></li><li><a href="GeomRay.html">GeomRay</a></li><li><a href="GeomSegment.html">GeomSegment</a></li><li><a href="GeomVector.html">GeomVector</a></li></ul><h3>Global</h3><ul><li><a href="global.html#clearDrawings">clearDrawings</a></li><li><a href="global.html#COLORS">COLORS</a></li><li><a href="global.html#GEOM">GEOM</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Sep 29 2021 16:14:46 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
